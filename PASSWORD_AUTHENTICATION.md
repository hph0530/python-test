# 🔐 密碼驗證功能說明

## 🛡️ 新增密碼保護功能

您的程式現在已經具備完整的密碼驗證功能，保護您的程式內容不被未授權存取！

### 🎯 主要功能

#### 1. 🔐 密碼驗證
- **預設密碼**: `2681815`
- **安全加密**: SHA-256 雜湊加密
- **登入狀態**: 保持到登出或重新整理

#### 2. 🔒 安全保護
- **帳戶鎖定**: 連續錯誤 5 次鎖定 5 分鐘
- **嘗試限制**: 顯示剩餘嘗試次數
- **安全提示**: 完整的安全使用建議

#### 3. 🔧 密碼管理
- **更改密碼**: 支援密碼更改功能
- **密碼要求**: 至少 6 個字元
- **確認機制**: 新密碼需要確認

## 🚀 使用方法

### 步驟 1：啟動程式
```bash
streamlit run integrated_web_player.py
```

### 步驟 2：輸入密碼
1. 在密碼輸入框中輸入：`2681815`
2. 點擊「🔓 登入」按鈕
3. 等待驗證完成

### 步驟 3：使用程式
- 登入成功後可以正常使用所有功能
- 側邊欄會顯示登入狀態
- 可以隨時登出或更改密碼

## 🔐 密碼驗證流程

### 登入流程
```
啟動程式 → 檢查登入狀態 → 未登入 → 顯示登入頁面 → 輸入密碼 → 驗證 → 成功/失敗
```

### 安全機制
```
輸入錯誤密碼 → 增加嘗試次數 → 達到 5 次 → 鎖定帳戶 5 分鐘 → 自動解鎖
```

### 密碼更改
```
當前密碼 → 新密碼 → 確認密碼 → 驗證 → 更新密碼 → 重新登入
```

## 🛡️ 安全特性

### 密碼加密
- **加密方式**: SHA-256 雜湊
- **安全等級**: 中等安全級別
- **不可逆**: 無法從雜湊值反推密碼

### 帳戶保護
- **鎖定機制**: 5 次錯誤後鎖定 5 分鐘
- **嘗試追蹤**: 記錄登入嘗試次數
- **自動重置**: 鎖定時間結束後自動重置

### 會話管理
- **狀態保持**: 登入狀態保持到登出
- **安全登出**: 清除所有登入資訊
- **重新驗證**: 重新整理後需要重新登入

## 🔧 密碼管理功能

### 更改密碼
1. 在側邊欄點擊「🔐 更改密碼」
2. 輸入當前密碼
3. 輸入新密碼（至少 6 個字元）
4. 確認新密碼
5. 點擊「✅ 確認更改」

### 密碼要求
- **長度**: 至少 6 個字元
- **建議**: 使用字母、數字和符號組合
- **避免**: 常見密碼和個人資訊

### 安全建議
- 定期更換密碼
- 不要在公共場所輸入密碼
- 不要與他人分享密碼
- 使用完畢後記得登出

## 📱 跨平台支援

### 桌面版
- **完整功能**: 所有密碼管理功能
- **鍵盤支援**: 支援 Enter 鍵登入
- **視覺反饋**: 清楚的成功/失敗提示

### 手機版
- **觸控優化**: 大按鈕設計
- **響應式**: 適配不同螢幕尺寸
- **安全輸入**: 密碼欄位自動隱藏

### 網頁版
- **瀏覽器相容**: 支援主流瀏覽器
- **無需安裝**: 直接使用瀏覽器
- **安全傳輸**: HTTPS 加密傳輸

## 🎯 使用場景

### 個人使用
- 保護個人音樂收藏
- 限制家庭成員存取
- 防止意外操作

### 工作環境
- 辦公室共享電腦
- 公共場所使用
- 多用戶環境

### 教育用途
- 課堂演示控制
- 學生存取限制
- 教學內容保護

## 🔧 技術實現

### 密碼驗證模組
```python
# 密碼雜湊
def hash_password(password):
    return hashlib.sha256(password.encode()).hexdigest()

# 密碼驗證
def verify_password(input_password, stored_password_hash):
    return hash_password(input_password) == stored_password_hash

# 鎖定檢查
def check_lockout():
    if login_attempts >= 5:
        # 檢查鎖定時間
        return True, remaining_time
    return False, 0
```

### Session State 管理
```python
# 密碼相關狀態
password_verified = False      # 登入狀態
login_attempts = 0            # 嘗試次數
lockout_time = 0              # 鎖定時間
stored_password_hash = ""     # 儲存的密碼雜湊
```

### 安全機制
```python
# 帳戶鎖定邏輯
if login_attempts >= 5:
    lockout_duration = 300  # 5分鐘
    if time.time() - lockout_time < lockout_duration:
        # 仍在鎖定期間
        return True, remaining_time
    else:
        # 鎖定時間結束，重置
        login_attempts = 0
        lockout_time = 0
```

## 🚨 故障排除

### 常見問題

#### 1. 忘記密碼
- **解決方案**: 聯繫管理員重置密碼
- **預防措施**: 記錄密碼在安全的地方

#### 2. 帳戶被鎖定
- **等待時間**: 5 分鐘後自動解鎖
- **手動重置**: 點擊「🔄 重置」按鈕

#### 3. 登入失敗
- **檢查密碼**: 確認密碼正確
- **大小寫**: 注意密碼大小寫
- **特殊字元**: 確認特殊字元輸入正確

### 安全建議

#### 密碼安全
- 使用強密碼（字母+數字+符號）
- 定期更換密碼
- 不要使用個人資訊作為密碼

#### 使用環境
- 在安全的環境中輸入密碼
- 使用完畢後及時登出
- 不要在公共電腦上記住密碼

#### 帳戶保護
- 不要與他人分享帳戶
- 定期檢查登入記錄
- 發現異常及時更改密碼

## 🔮 未來功能

### 計劃中的功能
- **多用戶支援**: 支援多個用戶帳戶
- **權限管理**: 不同用戶不同權限
- **登入記錄**: 記錄登入歷史
- **雙因素驗證**: 增加額外安全層

### 進階功能
- **生物識別**: 指紋或臉部識別
- **單一登入**: 與其他系統整合
- **自動登出**: 閒置自動登出
- **安全審計**: 完整的安全日誌

---

**總結**: 您的程式現在具備完整的密碼保護功能，包括密碼驗證、帳戶鎖定、密碼管理和安全提示。預設密碼為 `2681815`，請妥善保管並定期更換！🔐✨ 